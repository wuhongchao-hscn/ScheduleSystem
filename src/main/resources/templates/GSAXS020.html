<!DOCTYPE html>
<html class="no-js" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" th:object="${form}">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <link rel="icon" th:href="@{/images/favicon.ico}">
    <title>[[*{screenName}]]画面</title>
    <link th:href="@{/webjars/bootstrap/4.4.1-1/css/bootstrap.css}" rel="stylesheet">
    <link th:href="@{/css/COMMON.css}" rel="stylesheet">
    <section layout:fragment="css"></section>
</head>
<body>
<div class="card border-0">
    <!--表見出しエリア-->
    <div class="card-header alert-success">
        <ul class="nav">
            <li class="nav-item">
                <a class="btn border border-dark text-success" th:href="@{/}">スケジュール管理システム</a>
            </li>
        </ul>
    </div>
</div>

<div class="card-body overflow-hidden" style="height: calc(100vh - 140px)">
    <div class="container-fluid">
        <form method="post" enctype="multipart/form-data" class="w-100">
            <div class="row">
                <nav th:class="${session.GS_USERINFO} ? 'col-md-2 d-md-block pl-md-0' : 'col-md-4 d-md-block'">
                    <div class="sidebar-sticky" th:if="${session.GS_USERINFO}">
                        <ul class="nav flex-column pad-left-40">
                            <br/>
                            <li class="nav-item">
                                <img th:src="'/commonGetImg/' + ${session.GS_USERINFO.userImg} + '?param=user&height=200&width=200'"
                                     width="200px" height="200px" class="rounded-circle" alt="利用者画像"/>
                            </li>
                            <br/>
                            <li class="nav-item">
                                <h5 th:text="${session.GS_USERINFO.shjinSmi}"></h5>
                            </li>
                            <li class="nav-item">
                                <p class="text-muted" th:text="${session.GS_USERINFO.sskKnznName}"></p>
                            </li>
                            <li class="nav-item">
                                <p class="text-muted" th:text="${session.GS_USERINFO.rolesName}"></p>
                            </li>
                            <li>
                                <ul class="nav">
                                    <li class="nav-item">
                                        <a title="メイン画面" class="btn nav-link bg-info-bright" th:href="@{/}"
                                           data-original-title="Profile" data-toggle="tooltip">
                                            <svg class="bi bi-house" width="1em" height="1em" viewBox="0 0 16 16"
                                                 fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                      d="M2 13.5V7h1v6.5a.5.5 0 00.5.5h9a.5.5 0 00.5-.5V7h1v6.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 13.5zm11-11V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z"
                                                      clip-rule="evenodd"/>
                                                <path fill-rule="evenodd"
                                                      d="M7.293 1.5a1 1 0 011.414 0l6.647 6.646a.5.5 0 01-.708.708L8 2.207 1.354 8.854a.5.5 0 11-.708-.708L7.293 1.5z"
                                                      clip-rule="evenodd"/>
                                            </svg>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a title="ユーザ情報" class="btn nav-link bg-success-bright"
                                           href="/commonUserDetail"
                                           data-original-title="Settings" data-toggle="tooltip">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="feather feather-user"
                                                 fill="none"
                                                 stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                 stroke-width="2" viewBox="0 0 24 24" width="24" height="24">
                                                <path d="M 20 21 v -2 a 4 4 0 0 0 -4 -4 H 8 a 4 4 0 0 0 -4 4 v 2"/>
                                                <circle cx="12" cy="7" r="4"/>
                                            </svg>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <button type="submit" class="btn nav-link bg-danger-bright" formaction="logout"
                                                data-original-title="Logout" data-toggle="tooltip" title="ログアウト">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="feather feather-log-out"
                                                 fill="none"
                                                 stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                 stroke-width="2" viewBox="0 0 24 24" width="24" height="24">
                                                <path d="M 9 21 H 5 a 2 2 0 0 1 -2 -2 V 5 a 2 2 0 0 1 2 -2 h 4"/>
                                                <polyline points="16,17 21,12 16,7"/>
                                                <line x1="21" y1="12" x2="9" y2="12"/>
                                            </svg>
                                        </button>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                        <hr/>

                        <div class="pad-left-40" th:each="obj, stat : ${session.GS_USERINFO.menuInfoList}">
                            <p>
                                <a class="btn" th:href="@{${obj.hrefUrl}}" th:title="${obj.ddValue}">
                                    <svg class="bi bi-list-task" width="1em" height="1em" viewBox="0 0 16 16"
                                         fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                              d="M2 2.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5V3a.5.5 0 00-.5-.5H2zM3 3H2v1h1V3z"
                                              clip-rule="evenodd"/>
                                        <path d="M5 3.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zM5.5 7a.5.5 0 000 1h9a.5.5 0 000-1h-9zm0 4a.5.5 0 000 1h9a.5.5 0 000-1h-9z"/>
                                        <path fill-rule="evenodd"
                                              d="M1.5 7a.5.5 0 01.5-.5h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5H2a.5.5 0 01-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5H2zm1 .5H2v1h1v-1z"
                                              clip-rule="evenodd"/>
                                    </svg>
                                    <small>[[${obj.divName}]]</small>
                                </a>
                            </p>
                        </div>
                    </div>
                </nav>

                <main th:class="${session.GS_USERINFO} ? 'col-9 px-4' : 'col-md-4 ml-sm-auto px-4'">
                    <p class="mb-0" th:include="GSAXS040"></p>
                    <ul class="nav nav-tabs" th:if="*{navList}">
                        <li class="nav-item" th:each="obj, stat : *{navList}">
                            <a class="nav-link border-0" th:href="${obj.hrefUrl}">
                                [[${obj.hrefText}]]
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active border-0" href="#">
                                <b>[[*{screenName}]]</b>
                            </a>
                        </li>
                    </ul>

                    <section layout:fragment="main">
                        <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel"
                             th:if="${session.GS_USERINFO}">
                            <ol class="carousel-indicators">
                                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                                <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                                <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="images/carousel1.jpg" class="d-block w-100" alt="...">
                                    <div class="carousel-caption d-none d-md-block">
                                        <p th:insert="GSAXS030"></p>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <img src="images/carousel2.jpeg" class="d-block w-100" alt="...">
                                    <div class="carousel-caption d-none d-md-block">
                                        <p th:insert="GSAXS030"></p>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <img src="images/carousel3.jpg" class="d-block w-100" alt="...">
                                    <div class="carousel-caption d-none d-md-block">
                                        <p th:insert="GSAXS030"></p>
                                    </div>
                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button"
                               data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleCaptions" role="button"
                               data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </section>
                    <input type="hidden" id="errItemId" th:field="*{errItemId}">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <!--
                        CsrfFilter doFilterInternal
                        // 如果请求头里面有X-XSRF-TOKEN 就取请求头的值
                        String actualToken = request.getHeader(csrfToken.getHeaderName());
                        if (actualToken == null) {
                            // 如果请求头没值，就取从body里面取name=＿crsf的值
                            actualToken = request.getParameter(csrfToken.getParameterName());
                        }
                        // 如果session里面的token值≠req里面的token值，则失败
                        if (!csrfToken.getToken().equals(actualToken)) {
                    -->
                </main>

                <nav class="col-md-4 d-md-block" th:unless="${session.GS_USERINFO}">
                </nav>
            </div>
        </form>

    </div>
</div>

<div class="card-footer">
    <p th:insert="GSAXS030"></p>
</div>
</body>
<script th:src="@{/webjars/jquery/3.4.1/jquery.js}"></script>
<script th:src="@{/js/bsFileInput.js}"></script>
<script th:src="@{/webjars/bootstrap/4.4.1-1/js/bootstrap.bundle.js}"></script>
<script th:src="@{/js/common.js}"></script>
<script th:src="'/js/common/' + *{#strings.substring(screenId, 0, 5)} + '.js'"></script>
<section layout:fragment="js"></section>
</html>